<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="florabr">
<title>3. Using florabr to flag erroneous records • florabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="3. Using florabr to flag erroneous records">
<meta property="og:description" content="florabr">
<meta property="og:image" content="https://wevertonbio.github.io/florabr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">florabr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Spatialize_florabr.html">3. Using florabr to flag erroneous records</a>
    <a class="dropdown-item" href="../articles/getting_started.html">1. Getting started with florabr</a>
    <a class="dropdown-item" href="../articles/selecting_species.html">2. Selecting and filtering species</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/wevertonbio/florabr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>3. Using florabr to flag erroneous records</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wevertonbio/florabr/blob/HEAD/vignettes/Spatialize_florabr.Rmd" class="external-link"><code>vignettes/Spatialize_florabr.Rmd</code></a></small>
      <div class="d-none name"><code>Spatialize_florabr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="loading-data">Loading data<a class="anchor" aria-label="anchor" href="#loading-data"></a>
</h2>
<p>Before you begin, use the <code>load_florabr</code> function to load
the data. For more detailed information on obtaining and loading the
data, please refer to <a href="getting_started.html">1. Getting started
with florabr</a></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wevertonbio.github.io/florabr/">florabr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="co">#Folder where you stored the data with the function get_florabr()</span></span>
<span><span class="co">#Load data</span></span>
<span><span class="va">bf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_florabr.html">load_florabr</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">my_dir</span>,</span>
<span>                   data_version <span class="op">=</span> <span class="st">"Latest_available"</span>,</span>
<span>                   type <span class="op">=</span> <span class="st">"short"</span><span class="op">)</span> <span class="co">#short version</span></span>
<span><span class="co">#&gt; Loading version 393.389</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-spatial-polygons-of-species-distribution">Get spatial polygons of species distribution<a class="anchor" aria-label="anchor" href="#get-spatial-polygons-of-species-distribution"></a>
</h2>
<p>Brazilian Flora 2020 provides information on the federal states and
biomes with confirmed occurrences of the species in Brazil. The
<code>get_spat_occ</code> function extracts these information and return
Spatial polygons (SpatVectors) representing the distribution of the
specie. We can choose getting the Spatialvector of the federal states,
biomes and the intersection between states and biomes.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Example species</span></span>
<span><span class="va">spp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Araucaria angustifolia"</span>, <span class="st">"Adesmia paranensis"</span><span class="op">)</span></span>
<span><span class="co">#Get spatial polygons</span></span>
<span><span class="va">spp_spt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_spat_occ.html">get_spat_occ</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">bf</span>, species <span class="op">=</span> <span class="va">spp</span>,</span>
<span>                       State <span class="op">=</span> <span class="cn">TRUE</span>, Biome <span class="op">=</span> <span class="cn">TRUE</span>, intersection <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting states of Araucaria angustifolia </span></span>
<span><span class="co">#&gt; Getting biomes of Araucaria angustifolia </span></span>
<span><span class="co">#&gt; Getting biomes of Araucaria angustifolia </span></span>
<span><span class="co">#&gt; Getting states of Adesmia paranensis </span></span>
<span><span class="co">#&gt; Getting biomes of Adesmia paranensis </span></span>
<span><span class="co">#&gt; Getting biomes of Adesmia paranensis</span></span></code></pre></div>
<p>The SpatVectors are stored in a nested list by species:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">States</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - States"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Biomes"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">States_Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Intersection"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Adesmia paranensis`</span><span class="op">$</span><span class="va">States</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - States"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Adesmia paranensis`</span><span class="op">$</span><span class="va">Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Biomes"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Adesmia paranensis`</span><span class="op">$</span><span class="va">States_Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Intersection"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG01.png"><!-- --></p>
<div class="section level3">
<h3 id="including-a-more-complex-polygon-of-states-and-biomes">Including a more complex polygon of states and biomes<a class="anchor" aria-label="anchor" href="#including-a-more-complex-polygon-of-states-and-biomes"></a>
</h3>
<p>As default, <code>florabr</code> uses a simplified polygon of federal
States and biomes, with a reduced number of nodes representing the
boundaries of states and biomes (check
<code><a href="https://rdrr.io/pkg/terra/man/simplify.html" class="external-link">?terra::simplifyGeom</a></code>):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"states"</span><span class="op">)</span></span>
<span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/wrap.html" class="external-link">unwrap</a></span><span class="op">(</span><span class="va">states</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"biomes"</span><span class="op">)</span></span>
<span><span class="va">biomes</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/wrap.html" class="external-link">unwrap</a></span><span class="op">(</span><span class="va">biomes</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">states</span>, main <span class="op">=</span> <span class="st">"Brazilian states with simplified geometries"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">biomes</span>, main <span class="op">=</span> <span class="st">"Brazilian biomes with simplified geometries"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG02.png"><!-- --></p>
<p>We can work with the original spatial polygons, which represents
better the real shapes and boundaries of states and biomes. To do that,
let’s get the original data from <code>geobr</code>package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Install geobr if necessary and load package</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ipeaGIT/geobr" class="external-link">geobr</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"geobr"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#Load geobr</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ipeaGIT/geobr" class="external-link">geobr</a></span><span class="op">)</span></span></code></pre></div>
<p>Let`s start with the polygon of federal states of Brazil:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">br_states</span> <span class="op">&lt;-</span> <span class="fu">geobr</span><span class="fu">::</span><span class="fu">read_state</span><span class="op">(</span>simplified <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#Convert br_states from sf to SpatVect</span></span>
<span><span class="va">br_states</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">br_states</span><span class="op">)</span></span></code></pre></div>
<p>Note that now, the geometries of <em>br_states</em> (not simplified)
are more complex than the simplified <em>states</em>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Plot only State of Parana as example</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">br_states</span><span class="op">[</span><span class="va">br_states</span><span class="op">$</span><span class="va">abbrev_state</span> <span class="op">==</span> <span class="st">"PR"</span><span class="op">]</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Not simplified geometries"</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">states</span><span class="op">[</span><span class="va">states</span><span class="op">$</span><span class="va">abbrev_state</span> <span class="op">==</span> <span class="st">"PR"</span><span class="op">]</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Simplified geometries"</span>,</span>
<span>     mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG03.png"><!-- --> Now, let’s get the
original polygons of biomes:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">br_biomes</span> <span class="op">&lt;-</span> <span class="fu">geobr</span><span class="fu">::</span><span class="fu">read_biomes</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#Convert br_biomes from sf to SpatVect</span></span>
<span><span class="va">br_biomes</span><span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">br_biomes</span><span class="op">)</span></span>
<span><span class="co">#Drop off coastal system:</span></span>
<span><span class="va">br_biomes</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">br_biomes</span>, </span>
<span>                           <span class="va">br_biomes</span><span class="op">$</span><span class="va">name_biome</span> <span class="op">!=</span> <span class="st">"Sistema Costeiro"</span><span class="op">)</span></span></code></pre></div>
<p>The names of the biomes are in Portuguese. We need to translate
Amazonia and Mata Atlantica to English to match with the names in
Brazilian Flora database:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#See names of biomes</span></span>
<span><span class="va">br_biomes</span><span class="op">$</span><span class="va">name_biome</span></span>
<span><span class="co">#Names that must be in the Spatvector to match with Brazilian Flora:</span></span>
<span><span class="va">biomes</span><span class="op">$</span><span class="va">name_biome</span></span>
<span><span class="co">#&gt; [1] "Amazônia"       "Caatinga"       "Cerrado"        "Mata Atlântica"</span></span>
<span><span class="co">#&gt; [5] "Pampa"          "Pantanal"</span></span>
<span><span class="co">#Translate</span></span>
<span><span class="va">br_biomes</span><span class="op">$</span><span class="va">name_biome</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">br_biomes</span><span class="op">$</span><span class="va">name_biome</span> <span class="op">==</span> <span class="st">"Amazônia"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Amazon"</span></span>
<span><span class="va">br_biomes</span><span class="op">$</span><span class="va">name_biome</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span></span>
<span>  <span class="va">br_biomes</span><span class="op">$</span><span class="va">name_biome</span> <span class="op">==</span> <span class="st">"Mata Atlântica"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Atlantic_Forest"</span></span></code></pre></div>
<p>Now, the SpatVector of biomes is also ready to use. Let’s see the
difference when we use this non-simplified Spatvectors in the
<code>get_spat_occ</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spp_spt_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_spat_occ.html">get_spat_occ</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">bf</span>, species <span class="op">=</span> <span class="va">spp</span>,</span>
<span>                State <span class="op">=</span> <span class="cn">TRUE</span>, Biome <span class="op">=</span> <span class="cn">TRUE</span>, intersection <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                State_vect <span class="op">=</span> <span class="va">br_states</span>, <span class="co">#The non-simplified Spatvector</span></span>
<span>                state_column <span class="op">=</span> <span class="st">"abbrev_state"</span>, <span class="co">#Column name with states acronyms</span></span>
<span>                Biome_vect <span class="op">=</span> <span class="va">br_biomes</span>, <span class="co">#The non-simplified Spatvector</span></span>
<span>                biome_column <span class="op">=</span> <span class="st">"name_biome"</span>, <span class="co">#Column name with names of biomes</span></span>
<span>                verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>See the difference: now, the polygons representing the distribution
of species in states and biomes are more complex:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">States</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - States simplified"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt_2</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">States</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - States non-simplified"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Biomes simplified"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">spp_spt</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Biomes non-simplified"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG04.png"><!-- --></p>
<p>The choose between using the simplified version (default) or using a
personal e more complex polygons depends on the objectives and
resolution of your work. For a objective that depends on more fine
resolution, we suggest to use more complex polygons that represent
better the real shapes and boundaries of states and biomes.</p>
</div>
</div>
<div class="section level2">
<h2 id="filtering-occurrence-records-using-distribution-information-in-brazilian-flora">Filtering occurrence records using distribution information in
Brazilian Flora<a class="anchor" aria-label="anchor" href="#filtering-occurrence-records-using-distribution-information-in-brazilian-flora"></a>
</h2>
<p>Georeferencing errors in online species records can introduce
significant bias into ecological and biogeographical research findings.
Some R packages, as <code>CoordinateCleaner</code>, help to flagging
common spatial errors in biological collection data, for example,
records of terrestrial organism that fall in the sea or were assigned to
capital and province centroids. Since the distributions of species in
Brazilian Flora are based on the expertise of taxonomists, it represents
a valuable information to add an additional step on checking the
validity of occurrence records got from online databases (as GBIF or
SpeciesLink). The <code>filter_florabr</code> function automatized this
flagging. You can use the function to flag and/or remove: * Records that
fall outside the states and biomes which confirmed occurrence according
to Brazilian Flora. * For species endemic to Brazil, records that falls
in other countries.</p>
<p>As example, let’s use the occurrence records of two species.
<em>Abatia americana</em> is an endemic shrub with confirmed occurrences
in 4 states (ES, MG, RJ and SP) and two biomes (Atlantic Forest and
Cerrado). <em>Araucaria angustifolia</em> is a non-endemic tree that in
Brazil has confirmed occurrences in 6 states (MG, PR, RJ, RS, SC and SP)
and two biomes (Atlantic Forest and Pampa). Let’s plot these information
using the function <code>get_spat_occ</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_spp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Abatia americana"</span>, <span class="st">"Araucaria angustifolia"</span><span class="op">)</span></span>
<span><span class="va">pol_spp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_spat_occ.html">get_spat_occ</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">bf</span>, species <span class="op">=</span> <span class="va">my_spp</span>,</span>
<span>                       State <span class="op">=</span> <span class="cn">TRUE</span>, Biome <span class="op">=</span> <span class="cn">TRUE</span>, intersection <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">$</span><span class="va">`Abatia americana`</span><span class="op">$</span><span class="va">States</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - States"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">$</span><span class="va">`Abatia americana`</span><span class="op">$</span><span class="va">Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Biomes"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">States</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - States"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span><span class="op">$</span><span class="va">Biomes</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pol_spp</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="st">" - Biomes"</span><span class="op">)</span>, mar <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG05.png"><!-- --> We downloaded the
occurrences of these two species from GBIF using the
<code>plantR::rgbif2()</code> function. These occurrences are saved as
data examples in the package and we can import it:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"occurrences"</span><span class="op">)</span></span>
<span><span class="co">#select Abatia americana and Araucaria angustifolia from the dataset</span></span>
<span><span class="va">occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">occurrences</span>, <span class="va">occurrences</span><span class="op">$</span><span class="va">species</span> <span class="op"><a href="https://rdrr.io/pkg/terra/man/match.html" class="external-link">%in%</a></span> <span class="va">my_spp</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/headtail.html" class="external-link">head</a></span><span class="op">(</span><span class="va">occ</span><span class="op">)</span></span>
<span><span class="co">#&gt;                  species         x         y</span></span>
<span><span class="co">#&gt; 1 Araucaria angustifolia -51.15749 -29.58290</span></span>
<span><span class="co">#&gt; 2 Araucaria angustifolia -50.02454 -28.44414</span></span>
<span><span class="co">#&gt; 3 Araucaria angustifolia -46.77204 -23.45729</span></span>
<span><span class="co">#&gt; 4 Araucaria angustifolia -48.98117 -25.49632</span></span>
<span><span class="co">#&gt; 5 Araucaria angustifolia -54.50869 -25.55113</span></span>
<span><span class="co">#&gt; 6 Araucaria angustifolia -50.92680 -27.01826</span></span></code></pre></div>
<p>The input data with records must be a dataframe with at least 3
columns: one informing the species name, one informing the longitude and
one informing the latitude. Let’s check if there are records outside of
the species’ natural ranges considering states, biomes and endemism:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">occ_check</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_florabr.html">filter_florabr</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">bf</span>, occ <span class="op">=</span> <span class="va">occ</span>,</span>
<span>                    by_State <span class="op">=</span> <span class="cn">TRUE</span>, buffer_State <span class="op">=</span> <span class="fl">20</span>,</span>
<span>                    by_Biome <span class="op">=</span> <span class="cn">TRUE</span>, buffer_Biome <span class="op">=</span> <span class="fl">20</span>,</span>
<span>                    by_Endemism <span class="op">=</span> <span class="cn">TRUE</span>, Buffer_Brazil <span class="op">=</span> <span class="fl">20</span>,</span>
<span>                    State_vect <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                    Biome_vect <span class="op">=</span> <span class="cn">NULL</span>, BR_vect <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                    value <span class="op">=</span> <span class="st">"flag&amp;clean"</span>, keep_columns <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                    verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Returning list with flagged and cleaned occurrences</span></span></code></pre></div>
<p>Since we set <em>value = “flag&amp;clean”</em>, the function returned
a list with two data.frames: one with all the records flagged if on each
test they passed (TRUE) or not (FALSE); and another with only the
records that passed in all tests.</p>
<p>Let’s use the <a href="https://r-spatial.github.io/mapview/" class="external-link">mapview
package</a> to plot an interactive map of the flagged records:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Install mapview if necessary and load package</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/mapview" class="external-link">mapview</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"geobr"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#Load mapview</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/mapview" class="external-link">mapview</a></span><span class="op">)</span></span></code></pre></div>
<p>Let’s check the records of <em>Abatia americana</em>, plotting the
records and the map got previously. You can see that the green records
passed on the test of States, falling in the states with confirmed
occurrence of the specie. The red dots are the records that falls
outside the states. And the gray dots are records that was not testes
because they falls outside Brazil (Ecuador and Belarus).</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Convert points to spatvector</span></span>
<span><span class="va">abatia_occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">occ_check</span><span class="op">$</span><span class="va">flagged</span>,</span>
<span>                     <span class="va">occ_check</span><span class="op">$</span><span class="va">flagged</span><span class="op">$</span><span class="va">species</span> <span class="op">==</span> <span class="st">"Abatia americana"</span><span class="op">)</span></span>
<span><span class="va">abatia_occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">abatia_occ</span>, geom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Iteractive plot</span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">pol_spp</span><span class="op">$</span><span class="va">`Abatia americana`</span><span class="op">$</span><span class="va">States</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">mapview</span><span class="op">(</span><span class="va">abatia_occ</span>, zcol <span class="op">=</span> <span class="st">"Inside_State"</span>,</span>
<span>          col.regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG06.png" width="90%"></p>
<p>We can see the same with biomes: green dots represents records that
passed in the test, green dots represents records that did not passed
the test, and gray dots are records not tested because they fall outside
Brazil.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Iteractive plot</span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">pol_spp</span><span class="op">$</span><span class="va">`Abatia americana`</span><span class="op">$</span><span class="va">Biomes</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">mapview</span><span class="op">(</span><span class="va">abatia_occ</span>, zcol <span class="op">=</span> <span class="st">"Inside_Biome"</span>,</span>
<span>          col.regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG07.png" width="90%"></p>
<p>Finally, since <em>Abatia americana</em> is a specie endemic to
Brazil, we don’t expect records outside the country. The records in
Ecuador and Belarus were flagging in this test:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get Brazl Polygon</span></span>
<span><span class="va">br</span> <span class="op">&lt;-</span> <span class="fu">geobr</span><span class="fu">::</span><span class="fu">read_country</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Iteractive plot</span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">br</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">mapview</span><span class="op">(</span><span class="va">abatia_occ</span>, zcol <span class="op">=</span> <span class="st">"Inside_BR"</span>,</span>
<span>          col.regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG08.png" width="90%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Weverton Trindade.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
